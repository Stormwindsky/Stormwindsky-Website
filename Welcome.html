<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="images/favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stormwindsky | Creative Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --dark-bg: #1a1a2e;
            --light-bg: #f8f9fa;
            --text-dark: #2b2d42;
            --text-light: #f8f9fa;
            --card-bg: #ffffff;
            --nav-bg: #3a0ca3;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1), 0 1px 3px rgba(0,0,0,0.08);
            --shadow-lg: 0 10px 20px rgba(0,0,0,0.1), 0 6px 6px rgba(0,0,0,0.1);
            --shadow-xl: 0 14px 28px rgba(0,0,0,0.1), 0 10px 10px rgba(0,0,0,0.08);
            --gradient-primary: linear-gradient(135deg, #f72585 0%, #7209b7 50%, #3a0ca3 100%);
            --gradient-secondary: linear-gradient(135deg, #f72585 0%, #4cc9f0 100%);

            /* Halloween Theme Variables */
            --halloween-primary: #ff6600; /* Pumpkin orange */
            --halloween-secondary: #5e1a7b; /* Deep purple */
            --halloween-accent: #333333; /* Dark gray/black */
            --halloween-gradient: linear-gradient(135deg, #ff6600 0%, #5e1a7b 100%);
            --halloween-shadow: 0 0 15px rgba(255, 102, 0, 0.8);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--light-bg);
            color: var(--text-dark);
            transition: var(--transition);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            line-height: 1.6;
        }

        body.dark-mode {
            background-color: var(--dark-bg);
            color: var(--text-light);
        }

        body.dark-mode .card {
            background-color: #16213e;
            color: var(--text-light);
        }

        body.dark-mode nav {
            background-color: #0f3460;
        }

        body.dark-mode header {
            background-color: #0f3460;
        }

        body.dark-mode footer {
            background-color: #0f3460;
        }
        
        /* Halloween Theme Overrides */
        body.halloween-theme header::before {
            background: var(--halloween-gradient);
            opacity: 0.9;
        }

        body.halloween-theme header h1 {
            background: linear-gradient(90deg, #ff6600, #5e1a7b, #333333);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: textGlowHalloween 3s ease-in-out infinite alternate;
        }

        @keyframes textGlowHalloween {
            from {
                text-shadow: 0 0 5px rgba(255, 102, 0, 0.5);
            }
            to {
                text-shadow: 0 0 15px rgba(255, 102, 0, 0.8), 
                            0 0 20px rgba(94, 26, 123, 0.6);
            }
        }

        body.halloween-theme nav {
            background-color: rgba(94, 26, 123, 0.9); /* var(--halloween-secondary) with opacity */
        }
        
        body.halloween-theme nav a {
            background-color: rgba(255, 102, 0, 0.1);
        }

        body.halloween-theme nav a:hover {
            background-color: rgba(255, 102, 0, 0.2);
        }

        body.halloween-theme .card::after,
        body.halloween-theme .card h2::after {
            background: var(--halloween-gradient);
        }

        body.halloween-theme .card h2 {
            color: var(--halloween-primary);
        }

        body.halloween-theme .card a {
            background: var(--halloween-gradient);
            color: var(--text-light);
        }

        body.halloween-theme footer::before {
            background: var(--halloween-gradient);
            opacity: 0.9;
        }

        body.halloween-theme .theme-toggle {
            background: var(--halloween-gradient);
        }

        /* Animated Background Elements */
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .bg-element {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 15s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }
        
        .ghost-element {
            position: absolute;
            font-size: 4rem;
            opacity: 0;
            animation: floatGhost 20s infinite ease-in-out;
            pointer-events: none;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
            transition: all 0.5s;
        }

        @keyframes floatGhost {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.15;
            }
            50% {
                transform: translateY(-150px) translateX(70px) rotate(10deg);
                opacity: 0.3;
            }
            90% {
                opacity: 0.15;
            }
            100% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }
        }

        header {
            background-color: var(--nav-bg);
            color: var(--text-light);
            padding: 3rem 0;
            text-align: center;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0.8;
            z-index: -1;
        }

        header h1 {
            margin: 0;
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(90deg, #f72585, #7209b7, #3a0ca3);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: textGlow 3s ease-in-out infinite alternate;
        }

        @keyframes textGlow {
            from {
                text-shadow: 0 0 5px rgba(247, 37, 133, 0.5);
            }
            to {
                text-shadow: 0 0 15px rgba(247, 37, 133, 0.8), 
                            0 0 20px rgba(114, 9, 183, 0.6);
            }
        }

        body.dark-mode header h1 {
            background: var(--gradient-secondary);
            -webkit-background-clip: text;
            background-clip: text;
        }

        nav {
            background-color: var(--primary-color);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
            backdrop-filter: blur(10px);
            background-color: rgba(58, 12, 163, 0.9);
        }

        body.dark-mode nav {
            background-color: rgba(15, 52, 96, 0.9);
        }

        .nav-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        nav a {
            color: var(--text-light);
            margin: 0 1rem;
            text-decoration: none;
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            background-color: rgba(255,255,255,0.1);
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        nav a:hover::before {
            left: 100%;
        }

        nav a i {
            margin-right: 8px;
            font-size: 1rem;
        }

        nav a:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .content {
            padding: 3rem 2rem;
            text-align: center;
            flex: 1;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
            border: none;
        }

        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-primary);
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-xl);
        }

        .card h2 {
            color: var(--primary-color);
            margin-top: 0;
            font-weight: 600;
            position: relative;
            display: inline-block;
        }

        .card h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: 3px;
        }

        .card p {
            margin-bottom: 1.5rem;
        }

        .card a {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.75rem 2rem;
            background: var(--gradient-primary);
            color: white;
            border-radius: 50px;
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
        }

        .card a:hover {
            background: var(--gradient-secondary);
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .card a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: 0.5s;
        }

        .card a:hover::before {
            left: 100%;
        }

        footer {
            background-color: var(--primary-color);
            color: var(--text-light);
            text-align: center;
            padding: 2rem 0;
            margin-top: auto;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0.9;
            z-index: -1;
        }

        .social-links {
            margin: 1.5rem 0;
            display: flex;
            justify-content: center;
            gap: 1.5rem;
        }

        .social-links a {
            color: var(--text-light);
            font-size: 1.75rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.1);
        }

        .social-links a:hover {
            color: #4cc9f0;
            transform: translateY(-5px) scale(1.1);
            background-color: rgba(255,255,255,0.2);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .license-info {
            font-size: 0.9rem;
            margin-top: 1.5rem;
            opacity: 0.9;
        }

        .license-info a {
            color: var(--text-light);
            text-decoration: underline;
            font-weight: 500;
        }

        .theme-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            box-shadow: var(--shadow-xl);
            transition: var(--transition);
            z-index: 1000;
        }

        .theme-toggle:hover {
            transform: scale(1.1) rotate(30deg);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: var(--card-bg);
            padding: 3rem;
            border-radius: 20px;
            max-width: 800px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            transform: scale(0.9);
            opacity: 0;
            animation: modalOpen 0.3s forwards 0.1s;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        /* === MODIFIED STYLE FOR COLLECTION MODAL (Full Page) === */
        #collectionModal .modal-content {
            max-width: 95vw; 
            max-height: 95vh; 
            width: 95vw; 
            padding: 1.5rem; 
        }
        /* ========================================= */
        
        /* --- RoleChat Modal specific styles --- */
        #roleChatWindowModal {
            /* Full screen backdrop, but the modal-content is the "window" */
            align-items: flex-start; /* Start at top left */
            justify-content: flex-start;
        }

        #roleChatWindowModal .modal-content {
            background-color: var(--card-bg);
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(0,0,0,0.1);
            /* Remove default modal animations/transformations */
            animation: none; 
            /* Initial position for the desktop-like window (handled by JS for better control) */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); 
        }

        body.dark-mode #roleChatWindowModal .modal-content {
            background-color: #16213e;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        body.dark-mode #roleChatHeader {
            background-color: #0f3460;
        }

        body.halloween-theme #roleChatHeader {
            background: var(--halloween-gradient);
        }
        /* === End RoleChat Modal specific styles === */

        @keyframes modalOpen {
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.75rem;
            cursor: pointer;
            color: var(--primary-color);
            transition: var(--transition);
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            z-index: 1; /* Ensure the button is above content like the iframe */
        }
        
        body.halloween-theme .close-modal {
            color: var(--halloween-primary);
        }

        .close-modal:hover {
            background-color: rgba(0,0,0,0.1);
            transform: rotate(90deg);
        }

        .modal-content h2 {
            color: var(--primary-color);
            margin-top: 0;
            text-align: center;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .modal-content h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }
        
        body.halloween-theme .modal-content h2 {
            color: var(--halloween-primary);
        }

        body.halloween-theme .modal-content h2::after {
            background: var(--halloween-gradient);
        }

        .modal-content p {
            text-align: left;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        body.dark-mode .modal-content {
            background-color: #16213e;
            color: var(--text-light);
        }

        /* Collection Modal specific styles */
        .collection-iframe {
            width: 100%;
            /* Modified height to fill remainder of large modal (95vh - padding - header height) */
            height: calc(95vh - 100px); 
            border: none;
            border-radius: 10px;
            margin-top: 1rem;
        }

        /* Dark Web Modal specific styles */
        .darkweb-iframe {
            width: 100%;
            /* 16:9 aspect ratio */
            aspect-ratio: 16 / 9; 
            height: auto;
            border: none;
            border-radius: 10px;
            margin-top: 1rem;
        }

        /* Floating particles */
        @keyframes floatParticle {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
            }
            50% {
                transform: translateY(-100px) translateX(50px) rotate(180deg);
            }
            100% {
                transform: translateY(0) translateX(0) rotate(360deg);
            }
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                align-items: center;
            }

            nav a {
                margin: 0.5rem 0;
                width: 100%;
                text-align: center;
                justify-content: center;
            }

            header h1 {
                font-size: 2rem;
            }

            .modal-content {
                padding: 2rem 1.5rem;
            }
            
            /* Responsive adjustments for collection modal */
            #collectionModal .modal-content {
                max-width: 95vw;
                max-height: 95vh;
                width: 95vw;
                padding: 1rem;
            }

            .card-container {
                grid-template-columns: 1fr;
            }

            .collection-iframe {
                height: calc(95vh - 80px); /* Adjust height for smaller screen padding/header */
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 1.8rem;
            }
            
            .card {
                padding: 1.5rem;
            }
            
            .modal-content {
                padding: 1.5rem 1rem;
            }
            
            /* Responsive adjustments for collection modal */
            #collectionModal .modal-content {
                padding: 0.5rem;
            }

            .collection-iframe {
                height: calc(95vh - 70px);
            }
        }
    </style>
</head>
<body>
    <div class="bg-elements">
        <div class="bg-element" style="width: 200px; height: 200px; background: var(--primary-color); top: 10%; left: 5%; animation-delay: 0s;"></div>
        <div class="bg-element" style="width: 150px; height: 150px; background: var(--accent-color); top: 60%; left: 80%; animation-delay: 2s;"></div>
        <div class="bg-element" style="width: 100px; height: 100px; background: #f72585; top: 30%; left: 50%; animation-delay: 4s;"></div>
        </div>

    <header>
        <h1>Stormwindsky <span id="halloween-emoji-header"></span></h1>
    </header>

    <nav>
        <div class="nav-container">
            <a href="https://stormwindsky.github.io/Stormwindsky-Website/Welcome.html" target="_blank">
                <i class="fas fa-home"></i> Home
            </a>
            <a id="aboutLink">
                <i class="fas fa-user"></i> About Me
            </a>
            <a id="originLink">
                <i class="fas fa-signature"></i> Username Origin
            </a>
            <a id="collectionLink">
                <i class="fas fa-folder"></i> Collection
            </a>
            <a id="roleChatLink">
                <i class="fas fa-comments"></i> RoleChat
            </a>
            <a href="https://www.roblox.com/games/12983740104/" target="_blank">
                <i class="fas fa-heart"></i> Donate on Roblox
            </a>
        </div>
    </nav>

    <div class="content">
        <div class="card-container">
            <div class="card">
                <h2>Find Me Online</h2>
                <p>Check out my presence across different platforms and connect with me on various social networks.</p>
                <a href="https://stormwindsky.github.io/Stormwindsky-Website/Tools/OpenLinker/OpenLinker.html?links=W3sidGV4dCI6Ik15IFlvdVR1YmUiLCJ1cmwiOiJodHRwczovL3d3dy55b3V0dWJlLmNvbS9AU3Rvcm13aW5kc2t5In0seyJ0ZXh0IjoiU2NyYXRjaCIsInVybCI6Imh0dHBzOi8vc2NyYXRjaC5taXQuZWR1L3VzZXJzL3N0b3Jtd2luZHNreS8ifSx7InRleHQiOiJHYW1lSm9sdCIsInVybCI6Imh0dHBzOi8vZ2FtZWpvbHQuY29tL0BTdG9ybXdpbmRza3kifV0=" target="_blank">
                    View All Links
                </a>
            </div>
            
            <div class="card">
                <h2>About This Site</h2>
                <p>A creative playground for coding experiments and projects. This is where I share my passion for web development, gaming, and digital preservation.</p>
                <p>Simple but fun - just like me! Expect to find tools, games, and various experiments here.</p>
            </div>
        </div>
    </div>

    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" aria-label="Close">&times;</button>
            <h2>ABOUT ME</h2>
            <p>Stormwindsky on the Internet is a history and culture enthusiast. He has a particular expertise in the history of countries, with a fascination for Switzerland and the history of Sealand.</p>
            
            <p>In addition to his interest in history, Stormwindsky is an avid fan of independent video games, such as Undertale, Pizza Tower, and Baldi. He also has autism spectrum disorder.</p>
            
            <p>In his spare time, Stormwindsky enjoys archiving YouTube videos with the Wayback Machine to help preserve digital heritage, which speaks to his desire to preserve media for future generations. He is also a fan of the Lost Media Wiki community.</p>
            
            <p>With his passion for history and culture, as well as his commitment to digital heritage preservation, Stormwindsky is a unique and exciting individual. His atypical profile is an added value for any company or project that wishes to partner with him.</p>
        </div>
    </div>

    <div id="originModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" aria-label="Close">&times;</button>
            <h2>ORIGIN OF MY USERNAME</h2>
            <p>The name "Stormwindsky" comes from my mom from Animal Jam and later on Roblox & Scratch, and after everywhere 😊</p>
            <p>It's a unique identifier that has stuck with me across all my online adventures and represents my digital identity.</p>
        </div>
    </div>

    <div id="collectionModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" aria-label="Close">&times;</button>
            <h2>MY COLLECTION</h2>
            <iframe src="https://www.stormwindsky.com/Stormwindsky's%20Collection.html" class="collection-iframe" title="Stormwindsky's Collection"></iframe>
        </div>
    </div>
    
    <div id="darkWebModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" aria-label="Close">&times;</button>
            <h2 style="color: #FF0000;">!! YOU HACKED INTO THE DARK WEB !!</h2>
            <p style="text-align: center; font-weight: 700; color: #ff0000; font-size: 1.2rem;">ARE YOU SURE YOU WANT TO WATCH THIS VIDEO??</p>
            <p style="text-align: center; font-style: italic;">THIS IS A LOST MEDIA VIDEO from the DEEPEST parts of the INTERNET, it is EXTREMELY cursed and LIKELY to infect your COMPUTER with a TERRIBLE virus. DO NOT proceed unless you are a certified HACKER!!</p>
            
            <iframe 
                width="560" 
                height="315" 
                src="https://www.youtube.com/embed/A9knxzzqdnE" 
                class="darkweb-iframe" 
                title="YouTube video player" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                allowfullscreen>
            </iframe>
            <p style="text-align: center; margin-top: 1.5rem; font-size: 0.9rem; opacity: 0.7;">(Disclaimer: This is just a fun Halloween/Troll Easter Egg, the video is safe and the 'Dark Web' warning is fake!)</p>
        </div>
    </div>
    
    <div id="roleChatWindowModal" class="modal" style="display: none;">
        <div class="modal-content" id="roleChatModalContent" style="width: 600px; height: 400px; min-width: 300px; min-height: 200px; padding: 0; overflow: hidden; transform: none; opacity: 1; border-radius: 10px; position: absolute;">
            
            <div id="roleChatHeader" style="cursor: move; background-color: var(--nav-bg); color: var(--text-light); padding: 8px 15px; border-top-left-radius: 10px; border-top-right-radius: 10px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                <span style="font-weight: 600; font-size: 1rem;"><i class="fas fa-comments"></i> RoleChat</span>
                <div>
                    <button id="roleChatMaximize" style="background: none; border: none; color: var(--text-light); font-size: 1.2rem; margin-right: 10px; cursor: pointer;">
                        <i class="far fa-window-maximize"></i>
                    </button>
                    <button id="roleChatClose" style="background: none; border: none; color: var(--text-light); font-size: 1.2rem; cursor: pointer;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <iframe src="https://stormwindsky.github.io/RoleChat/" class="rolechat-iframe" title="RoleChat Application" style="width: 100%; height: calc(100% - 40px); border: none; display: block;"></iframe>

            <div id="roleChatResizer" style="position: absolute; width: 15px; height: 15px; right: 0; bottom: 0; cursor: nwse-resize; background-color: rgba(255, 255, 255, 0.3); border-bottom-right-radius: 10px;"></div>
        </div>
    </div>
    
    <footer>
        <div class="social-links">
            <a href="https://github.com/Stormwindsky/Stormwindsky-Website" target="_blank" aria-label="GitHub">
                <i class="fab fa-github"></i>
            </a>
            <a href="https://www.youtube.com/@Stormwindsky" target="_blank" aria-label="YouTube">
                <i class="fab fa-youtube"></i>
            </a>
        </div>
        <p>© <span id="currentYear"></span> Stormwindsky | All Rights Reserved</p>
        <div class="license-info">
            Licensed under the <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a>
        </div>
        <p><a href="https://github.com/Stormwindsky/Stormwindsky-Website" target="_blank">View Source on GitHub</a></p>
    </footer>

    <button class="theme-toggle" onclick="toggleTheme()">🌙</button>

    <script>
        // Theme toggle function
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            if (body.classList.contains('dark-mode')) {
                body.classList.remove('dark-mode');
                // Re-check for Halloween theme when switching to light mode
                if (isOctober()) {
                    themeToggle.textContent = '🎃'; 
                } else {
                    themeToggle.textContent = '🌙';
                }
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.add('dark-mode');
                themeToggle.textContent = '☀️';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Check if it's October (Month is 0-indexed, so 9 is October)
        function isOctober() {
            const now = new Date();
            return now.getMonth() === 9;
        }

        // Apply Halloween theme if it's October
        function applyHalloweenTheme() {
            if (isOctober()) {
                document.body.classList.add('halloween-theme');
                const headerEmoji = document.getElementById('halloween-emoji-header');
                headerEmoji.textContent = '🎃';
                document.querySelector('.theme-toggle').textContent = '🎃'; // Pumpkin icon for October
                createGhostParticles();
            }
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            
            if (savedTheme === 'dark') {
                body.classList.add('dark-mode');
                themeToggle.textContent = '☀️';
            } else {
                body.classList.remove('dark-mode');
                // Check for October theme when loading light mode
                if (isOctober()) {
                    themeToggle.textContent = '🎃';
                } else {
                    themeToggle.textContent = '🌙';
                }
            }
        }

        // Set current year in footer
        function setCurrentYear() {
            const yearElement = document.getElementById('currentYear');
            const currentYear = new Date().getFullYear();
            yearElement.textContent = currentYear;
        }

        // Create floating particles (Original)
        function createParticles() {
            const bgElements = document.querySelector('.bg-elements');
            const colors = ['#4361ee', '#4895ef', '#f72585', '#7209b7', '#4cc9f0'];
            
            for (let i = 0; i < 5; i++) {
                const particle = document.createElement('div');
                particle.classList.add('bg-element');
                
                const size = Math.random() * 100 + 50;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const delay = Math.random() * 5;
                const duration = Math.random() * 10 + 10;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.top = `${posY}%`;
                particle.style.left = `${posX}%`;
                particle.style.background = color;
                particle.style.animation = `floatParticle ${duration}s infinite ${delay}s`;
                particle.style.opacity = '0.1';
                
                bgElements.appendChild(particle);
            }
        }
        
        // Create Ghostly floating particles (Halloween)
        function createGhostParticles() {
            const bgElements = document.querySelector('.bg-elements');
            const ghosts = ['👻', '🦇', '🕷️', '🕸️']; 
            
            for (let i = 0; i < 7; i++) {
                const ghost = document.createElement('div');
                ghost.classList.add('ghost-element');
                
                const emoji = ghosts[Math.floor(Math.random() * ghosts.length)];
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const delay = Math.random() * 10;
                const duration = Math.random() * 15 + 15;
                const size = Math.random() * 1.5 + 1;
                
                ghost.textContent = emoji;
                ghost.style.top = `${posY}%`;
                ghost.style.left = `${posX}%`;
                ghost.style.fontSize = `${size}rem`;
                ghost.style.animation = `floatGhost ${duration}s infinite ease-in-out ${delay}s`;
                
                bgElements.appendChild(ghost);
            }
        }


        // Modal functionality
        function setupModals() {
            // Modal elements
            const aboutModal = document.getElementById('aboutModal');
            const originModal = document.getElementById('originModal');
            const collectionModal = document.getElementById('collectionModal');
            const darkWebModal = document.getElementById('darkWebModal');
            const roleChatWindowModal = document.getElementById('roleChatWindowModal'); // NEW

            // Button elements
            const aboutBtn = document.getElementById('aboutLink');
            const originBtn = document.getElementById('originLink');
            const collectionBtn = document.getElementById('collectionLink');
            const roleChatBtn = document.getElementById('roleChatLink'); // NEW
            
            // Close buttons (common class)
            const closeButtons = document.querySelectorAll('.close-modal');

            // Function to open a modal
            function openModal(modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
            
            // Function to close a modal
            function closeModal(modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            // Open Modals
            aboutBtn.onclick = () => openModal(aboutModal);
            originBtn.onclick = () => openModal(originModal);
            collectionBtn.onclick = () => openModal(collectionModal);
            roleChatBtn.onclick = () => openModal(roleChatWindowModal); // NEW
            
            // Close Modals: One listener to close all (safe approach when only one is open)
            closeButtons.forEach(button => {
                button.onclick = function() {
                    closeModal(aboutModal);
                    closeModal(originModal);
                    closeModal(collectionModal);
                    closeModal(darkWebModal);
                    closeModal(roleChatWindowModal); // NEW
                }
            });

            // Close when clicking outside modal
            window.onclick = function(event) {
                if (event.target == aboutModal) {
                    closeModal(aboutModal);
                }
                if (event.target == originModal) {
                    closeModal(originModal);
                }
                if (event.target == collectionModal) {
                    closeModal(collectionModal);
                }
                if (event.target == darkWebModal) {
                    closeModal(darkWebModal);
                }
                // We will NOT close the RoleChat window when clicking outside, it acts like a desktop app.
            }
            
            // Easter Egg Logic (Key Sequence 666)
            const konamiCode = '666';
            let keySequence = '';

            document.addEventListener('keydown', (e) => {
                const key = e.key;

                // Check if the key is a number (to support both number row and numpad)
                if (key >= '0' && key <= '9') {
                    keySequence += key;
                    
                    // Keep only the last 3 characters
                    if (keySequence.length > 3) {
                        keySequence = keySequence.slice(-3);
                    }
                    
                    // Check for the '666' sequence
                    if (keySequence === konamiCode) {
                        // Reset sequence to prevent repeated trigger without user clicking
                        keySequence = ''; 
                        openModal(darkWebModal);
                    }
                } else {
                    // Reset sequence if a non-number key is pressed
                    keySequence = '';
                }
            });
        }
        
        // Window Modal Logic (Draggable, Resizable, Maximizable)
        function setupWindowModal(modalId, headerId, resizerId, closeBtnId, maximizeBtnId) {
            const modal = document.getElementById(modalId);
            const content = document.getElementById(modalId.replace('WindowModal', 'ModalContent'));
            const header = document.getElementById(headerId);
            const resizer = document.getElementById(resizerId);
            const closeBtn = document.getElementById(closeBtnId);
            const maximizeBtn = document.getElementById(maximizeBtnId);

            let isDragging = false;
            let isResizing = false;
            let currentX, currentY, initialX, initialY, xOffset = 0, yOffset = 0;
            let initialWidth, initialHeight;
            let isMaximized = false;
            // Set initial position and size
            let storedPosition = { 
                top: '50%', 
                left: '50%', 
                width: content.style.width || '600px', 
                height: content.style.height || '400px' 
            };

            // Set initial position and size for the window
            content.style.position = 'absolute';
            content.style.left = storedPosition.left;
            content.style.top = storedPosition.top;
            content.style.width = storedPosition.width;
            content.style.height = storedPosition.height;
            content.style.transform = 'translate(-50%, -50%)'; // Center it initially

            // DRAGGING
            header.addEventListener('mousedown', dragStart);
            document.addEventListener('mouseup', dragEnd);
            document.addEventListener('mousemove', drag);

            function dragStart(e) {
                if (isMaximized) return; // Prevent dragging when maximized
                
                initialX = e.clientX;
                initialY = e.clientY;

                if (e.target === header || header.contains(e.target)) {
                    // Calculate offsets based on current position relative to top/left (not transformed)
                    const rect = content.getBoundingClientRect();
                    xOffset = e.clientX - rect.left;
                    yOffset = e.clientY - rect.top;
                    
                    isDragging = true;
                    content.style.transition = 'none'; // Disable transition during drag
                    content.style.transform = 'none'; // Remove centering transform for absolute positioning
                    content.style.zIndex = 2001; // Bring to front
                }
            }

            function drag(e) {
                if (isDragging) {
                    e.preventDefault();
                    
                    content.style.left = (e.clientX - xOffset) + 'px';
                    content.style.top = (e.clientY - yOffset) + 'px';
                }
            }

            function dragEnd() {
                isDragging = false;
                content.style.transition = 'all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)'; // Re-enable transition
                
                // Store the final position (important for maximize/restore)
                storedPosition.left = content.style.left;
                storedPosition.top = content.style.top;
                content.style.zIndex = ''; // Reset z-index
            }

            // RESIZING
            resizer.addEventListener('mousedown', resizeStart);
            document.addEventListener('mousemove', resize);
            document.addEventListener('mouseup', resizeEnd);

            function resizeStart(e) {
                if (isMaximized) return; // Prevent resizing when maximized

                isResizing = true;
                initialX = e.clientX;
                initialY = e.clientY;
                initialWidth = content.offsetWidth;
                initialHeight = content.offsetHeight;
                content.style.transition = 'none'; // Disable transition during resize
                content.style.zIndex = 2001; // Bring to front
            }

            function resize(e) {
                if (!isResizing) return;
                
                const dx = e.clientX - initialX;
                const dy = e.clientY - initialY;
                
                // Calculate new width and height, respecting min values
                const newWidth = Math.max(initialWidth + dx, 300); // 300px min-width
                const newHeight = Math.max(initialHeight + dy, 200); // 200px min-height

                content.style.width = newWidth + 'px';
                content.style.height = newHeight + 'px';
            }

            function resizeEnd() {
                isResizing = false;
                content.style.transition = 'all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)'; // Re-enable transition
                
                // Store the final size
                storedPosition.width = content.style.width;
                storedPosition.height = content.style.height;
                content.style.zIndex = ''; // Reset z-index
            }
            
            // MAXIMIZE / RESTORE
            maximizeBtn.onclick = function() {
                if (isMaximized) {
                    // Restore
                    content.style.width = storedPosition.width;
                    content.style.height = storedPosition.height;
                    content.style.left = storedPosition.left;
                    content.style.top = storedPosition.top;
                    content.style.transform = 'none';
                    maximizeBtn.innerHTML = '<i class="far fa-window-maximize"></i>';
                    resizer.style.display = 'block';
                } else {
                    // Maximize: Save current position/size before maximizing
                    // Only store if not centered (meaning it has been dragged)
                    if (content.style.transform === 'none') {
                        storedPosition.left = content.style.left;
                        storedPosition.top = content.style.top;
                    } else {
                        // If centered, use the current size but fake position
                        storedPosition.left = '50%'; 
                        storedPosition.top = '50%';
                    }
                    storedPosition.width = content.style.width;
                    storedPosition.height = content.style.height;

                    // Apply maximized state
                    content.style.width = '100vw';
                    content.style.height = '100vh';
                    content.style.left = '0';
                    content.style.top = '0';
                    content.style.transform = 'none';
                    maximizeBtn.innerHTML = '<i class="far fa-window-restore"></i>';
                    resizer.style.display = 'none';
                }
                isMaximized = !isMaximized;
            }
            
            // CLOSE
            function closeModal(modalToClose) {
                modalToClose.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            closeBtn.onclick = () => {
                if (isMaximized) {
                    // Restore state before closing (for better re-open experience)
                    isMaximized = false;
                    content.style.width = storedPosition.width;
                    content.style.height = storedPosition.height;
                    
                    // Re-apply center if it was centered when opened
                    if (storedPosition.left === '50%' && storedPosition.top === '50%') {
                        content.style.left = '50%';
                        content.style.top = '50%';
                        content.style.transform = 'translate(-50%, -50%)'; 
                    } else {
                        content.style.left = storedPosition.left;
                        content.style.top = storedPosition.top;
                        content.style.transform = 'none';
                    }
                    
                    maximizeBtn.innerHTML = '<i class="far fa-window-maximize"></i>';
                    resizer.style.display = 'block';
                }
                closeModal(modal); // Use the local closeModal function
            }
        }


        // Initialize on load
        window.addEventListener('DOMContentLoaded', () => {
            applyHalloweenTheme(); // Apply theme before loading others
            loadTheme();
            setCurrentYear();
            createParticles();
            setupModals();
            setupWindowModal('roleChatWindowModal', 'roleChatHeader', 'roleChatResizer', 'roleChatClose', 'roleChatMaximize'); // INITIALIZE WINDOW LOGIC
        });
    </script>
</body>
</html>
